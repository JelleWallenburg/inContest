<div class="d-flex flex-row justify-content-between">
  <div class="d-flex align-items-center align-self-center flex-row">
    <a href="/all-portfolio">
      <span class="material-icons md-48">arrow_back_ios</span>
    </a>
    <h1 class="ms-2">{{foundUser.username}}'s observations</h1>
  </div>
</div>

{{#if noRecords}}
  <div
    class="d-flex flex-column w-100 align-items-center align-self-center justify-content-center"
  >
    <img
      width="10%"
      style="object-fit: cover;"
      src="/images/empty_state.png"
      alt=""
    />
    <h5 class="text-primary">No portfolio available!</h5>
  </div>
{{else}}
  <div>
    <canvas height="20vh" width="80vw" id="myChart"></canvas>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script>
    const ctx = document.getElementById('myChart'); const portfolioNames =
    JSON.parse('{{{allReferenceDate}}}'); const portalpercentageReturn =
    JSON.parse('{{{allPercentageReturn}}}'); new Chart(ctx, { type: 'bar', data:
    { labels: portfolioNames, datasets: [{ label: 'Percentage return', data:
    portalpercentageReturn, borderWidth: 1 }] }, options: { plugins: { legend: {
    align:'end', title:{ position: 'end', } }, title: { display: true, } },
    scales: { y: { beginAtZero: false } } } });
  </script>

  <table class="table mt-4">
    <thead>
      <tr>
        <th scope="col">Position</th>
        <th scope="col">Reference date</th>
        <th scope="col">Percentage return</th>
        <th scope="col">Total return</th>
        <th scope="col">Total account</th>
        <th scope="col">Total portfolio</th>
        <th scope="col">Total result</th>
      </tr>
    </thead>
    <tbody>
      {{#each portfolios}}
        <tr>
          <th scope="row">{{add @index 1}}</th>
          <td>{{referenceDate}}</td>
          <td>{{percentageReturn}}</td>
          <td>{{totalReturn}}</td>
          <td>{{totalAccount}}</td>
          <td>{{totalPortfolio}}</td>
          <td>{{totalResult}}</td>
        </tr>
      {{/each}}
    </tbody>
  </table>

{{/if}}